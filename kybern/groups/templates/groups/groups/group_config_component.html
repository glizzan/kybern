<script type="text/x-template" id="group_config_component_template">
<!-- Layout component with subcomponents for editing group, viewing governance, permissions 
and history -->

    <span>

        <div class="card">
            <h5 class="card-header">[[ group_name ]]</h5>
            <div class="card-body">
                <p class="card-text">[[ group_description ]]</p>
            </div>
        </div>

        <router-link :to="{ name: 'edit-group'}">
            <b-button id="edit_group_button" block class="mt-3" 
                :variant="$route.name === 'edit-group' ? 'secondary' : 'outline-secondary'">
                edit group</b-button>
        </router-link>

        <router-link :to="{ name: 'home'}">
            <b-button id="resources_button" block class="mt-3" 
                :variant="['edit-group', 'group-action-history', 'item-permissions', 'governance'].indexOf($route.name) === -1 ? 'secondary' : 'outline-secondary'">
                resources</b-button>
        </router-link>

        <router-link id="group_history_button" :to="{ name: 'group-action-history'}">
            <b-button block class="mt-3" 
                :variant="$route.name === 'group-action-history' ? 'secondary' : 'outline-secondary'">
                history</b-button>
        </router-link>

        <router-link :to="{ name: 'governance'}">
            <b-button id="governance_button" block class="mt-3" 
                :variant="$route.name === 'governance' ? 'secondary' : 'outline-secondary'">
                governance</b-button>
        </router-link>

        <router-link class="button" :to="{ name: 'item-permissions', params: { item_id: {{ object.pk }}, 
                item_model: 'group', item_name: group_name }}">
            <b-button id="group_permissions_button" block class="mt-3" 
                :variant="$route.name === 'item-permissions' ? 'secondary' : 'outline-secondary'">
                permissions</b-button>
        </router-link>

    </span>

</script>


<script type="application/javascript">

    var groupConfigComponent = Vue.component('group-config-component', {
        delimiters: ['[[', ']]'],
        template: '#group_config_component_template',
        store,
        computed: {
            ...Vuex.mapState({ group_name: state => state.group_name, group_description: state => state.group_description })                
        }
    });

</script>