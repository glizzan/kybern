<!DOCTYPE html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />

    <title>Accounts Index</title>

    <!-- Required Stylesheets -->
    <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css"/>

    <!-- Load polyfills to support older browsers -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es2015%2CIntersectionObserver"></script>

    <!-- Required scripts -->
    <script src="https://unpkg.com/vue@latest/dist/vue.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
  </head>

  <body>
    <!-- Our application root element -->
    <div id="app">

            <div>
              <b-navbar toggleable="lg" type="dark" variant="info">
                <!-- Left aligned nav items -->
                <b-navbar-brand href="/accounts/">Kybern</b-navbar-brand>
                <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>
                <b-collapse id="nav-collapse" is-nav>
                <b-navbar-nav>
                  <b-nav-item href="#" disabled>Communities</b-nav-item>
                  <b-nav-item href="#" disabled>Contacts</b-nav-item>
                  <b-nav-item href="#" disabled>Notifications</b-nav-item>
                </b-navbar-nav>
                <!-- Right aligned nav items -->
                <b-navbar-nav class="ml-auto">

                    <!-- If user is logged in -->
                    <b-nav-item-dropdown right v-if="signed_in">
                        <!-- Using 'button-content' slot -->
                        <template v-slot:button-content><em>[[ user_name ]]</em></template>
                        <b-dropdown-item href="/accounts/profile">Your Profile</b-dropdown-item>
                        <b-dropdown-item href="/accounts/logout">Sign Out</b-dropdown-item>
                    </b-nav-item-dropdown>

                    <!-- If not logged in, show login page. -->
                    <b-nav-item v-else href="/accounts/login" >Sign In</b-nav-item>
                
                </b-navbar-nav>
                </b-collapse>
              </b-navbar>
            </div>

            <b-container class="bv-example-row pt-md-5">
                <b-row>
                  <b-col></b-col>
                  <b-col class="col-6">{% block content %}{% endblock %}</b-col>
                  <b-col></b-col>
                </b-row>
              </b-container>            

    </div>

    <!-- Start running your app -->
    <script>
      window.app = new Vue({
        delimiters: ['[[', ']]'],
        el: '#app',
        data: {
          signed_in: {{ user.is_authenticated|lower }},
          user_name: "{{ user.username }}"
        }
      })
    </script>
  </body>
</html>